岗位表建表sql
CREATE TABLE job_post (
    id              BIGINT AUTO_INCREMENT PRIMARY KEY COMMENT '主键',
    boss_job_id     VARCHAR(64) NOT NULL COMMENT 'Boss 直聘平台原始ID',
    title           VARCHAR(200) NOT NULL COMMENT '岗位名称',
    company_id      BIGINT NOT NULL COMMENT '所属公司（关联 company 表）',
    city_id         INT NOT NULL COMMENT '城市ID（关联 city 表）',
    district        VARCHAR(100) DEFAULT NULL COMMENT '区县/商圈',
    address         VARCHAR(500) DEFAULT NULL COMMENT '详细工作地址',
    category_id     INT NOT NULL COMMENT '职位类别ID',
    emp_type        TINYINT NOT NULL DEFAULT 1 COMMENT '1=全职 2=兼职 3=实习',
    salary_min      DECIMAL(10,2) DEFAULT NULL COMMENT '薪资下限（元/月）',
    salary_max      DECIMAL(10,2) DEFAULT NULL COMMENT '薪资上限（元/月）',
    salary_desc     VARCHAR(200) DEFAULT NULL COMMENT '原始薪资文本，如“5-6K”',
    edu_req         VARCHAR(50) DEFAULT NULL COMMENT '学历要求',
    exp_req         VARCHAR(50) DEFAULT NULL COMMENT '经验要求',
    recruiter_id    BIGINT DEFAULT NULL COMMENT '招聘者ID（关联 recruiter 表）',
    description     TEXT COMMENT '职位描述',
    require_list    JSON COMMENT '任职要求数组，方便快速搜索',
    welfare_list    JSON COMMENT '福利标签数组',
    publish_time    DATETIME DEFAULT NULL COMMENT '发布时间',
    refresh_time    DATETIME DEFAULT NULL COMMENT '刷新时间',
    status          TINYINT NOT NULL DEFAULT 1 COMMENT '1=在招 2=下架 3=暂停',
    created_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY uk_boss_job_id (boss_job_id),
    KEY idx_company (company_id),
    KEY idx_city (city_id),
    KEY idx_category (category_id),
    KEY idx_publish (publish_time)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='岗位主表';


职位表建表sql
CREATE TABLE job_category_simple (
    id              INT AUTO_INCREMENT PRIMARY KEY COMMENT '主键',
    name            VARCHAR(100) NOT NULL COMMENT '类别名称',
    intro           TEXT COMMENT '岗位类别简介（长文本）',
    parent_id       INT DEFAULT NULL COMMENT '上级类别ID',
    next_category_id INT DEFAULT NULL COMMENT '下一个关联类别ID（用于特殊关联需求）',
    sort_order      INT NOT NULL DEFAULT 0 COMMENT '排序值',
    is_active       TINYINT NOT NULL DEFAULT 1 COMMENT '是否启用：1=启用 0=禁用',
    created_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    UNIQUE KEY uk_name (name),
    KEY idx_parent (parent_id),
    KEY idx_next (next_category_id),

    -- 外键约束
    CONSTRAINT fk_category_parent FOREIGN KEY (parent_id)
        REFERENCES job_category_simple(id) ON DELETE SET NULL ON UPDATE CASCADE,
    CONSTRAINT fk_category_next FOREIGN KEY (next_category_id)
        REFERENCES job_category_simple(id) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='岗位类别表（扁平结构）';

论坛表建表sql
CREATE TABLE forum_comments (
    id              INT AUTO_INCREMENT PRIMARY KEY COMMENT '评论ID（主键）',
    category_id     INT DEFAULT NULL COMMENT '关联的岗位类别ID',
    user_id         INT NOT NULL COMMENT '发布评论的用户ID',
    parent_id       INT DEFAULT NULL COMMENT '回复的父评论ID（自关联）',
    content         TEXT NOT NULL COMMENT '评论内容',
    level           INT NOT NULL DEFAULT 1 COMMENT '评论层级：1=一级评论 2=二级回复',
    sort_order      INT NOT NULL DEFAULT 0 COMMENT '排序值（在同一父评论下）',
    is_deleted      TINYINT NOT NULL DEFAULT 0 COMMENT '是否删除：1=删除 0=正常',
    created_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    -- 唯一索引：用户+内容+父ID（防止重复评论）
    UNIQUE KEY uk_user_content_parent (user_id, content(100), parent_id),

    -- 普通索引
    KEY idx_category (category_id),
    KEY idx_user (user_id),
    KEY idx_parent (parent_id),
    KEY idx_created (created_at),
    KEY idx_category_parent (category_id, parent_id),
    KEY idx_user_category (user_id, category_id),

    -- 外键约束
    CONSTRAINT fk_comment_category FOREIGN KEY (category_id)
        REFERENCES job_category_simple(next_category_id) ON DELETE SET NULL ON UPDATE CASCADE,

    -- 自关联外键（回复的评论）
    CONSTRAINT fk_comment_parent FOREIGN KEY (parent_id)
        REFERENCES forum_comments(id) ON DELETE CASCADE ON UPDATE CASCADE,

    -- 用户外键（引用用户表）
    CONSTRAINT fk_comment_user FOREIGN KEY (user_id)
        REFERENCES users(id) ON DELETE CASCADE ON UPDATE CASCADE

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='论坛评论表';

用户表建表sql

CREATE TABLE sys_user (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '内部主键（自增，聚簇索引，不对外暴露）',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户业务ID（对外关联键，建议雪花ID，如1143526543212345678）',
    mobile VARCHAR(20) NOT NULL COMMENT '手机号',
    email VARCHAR(100) DEFAULT NULL COMMENT '邮箱',
    password_hash VARCHAR(255) NOT NULL COMMENT '密码哈希值',
    bio TEXT DEFAULT NULL COMMENT '个人简介',
    avatar_url VARCHAR(500) DEFAULT NULL COMMENT '头像URL',
    status TINYINT UNSIGNED NOT NULL DEFAULT 1 COMMENT '账号状态：0-禁用，1-正常，2-未激活，3-锁定',
    job_status TINYINT UNSIGNED DEFAULT 0 COMMENT '求职状态：0-待业，1-实习中，2-应届求职',
    real_name VARCHAR(50) DEFAULT NULL COMMENT '真实姓名',
    gender TINYINT UNSIGNED DEFAULT 0 COMMENT '性别：0-未知，1-男，2-女',
    birth_date DATE DEFAULT NULL COMMENT '出生日期',
    education_level VARCHAR(20) DEFAULT NULL COMMENT '学历层次',
    major VARCHAR(50) DEFAULT NULL COMMENT '专业',
    enrollment_year YEAR DEFAULT NULL COMMENT '入学年份',
    graduation_year YEAR DEFAULT NULL COMMENT '毕业年份',
    register_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '注册时间',
    last_login_time DATETIME DEFAULT NULL COMMENT '最后登录时间',
    last_login_ip VARCHAR(50) DEFAULT NULL COMMENT '最后登录IP',
    last_device_model VARCHAR(100) DEFAULT NULL COMMENT '最近登录设备型号',
    last_device_time DATETIME DEFAULT NULL COMMENT '最近设备登录时间',
    last_device_type TINYINT UNSIGNED DEFAULT 0 COMMENT '设备类型：0-未知，1-PC，2-Android，3-iOS，4-小程序',
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '记录创建时间',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',
    deleted_at DATETIME DEFAULT NULL COMMENT '软删除时间',
    is_deleted TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '是否删除：0-否，1-是',

    PRIMARY KEY (id),
    UNIQUE KEY uk_user_id (user_id),
    UNIQUE KEY uk_mobile (mobile),
    UNIQUE KEY uk_email (email),
    KEY idx_status (status),
    KEY idx_job_status (job_status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户基础信息表';

简历表建组合表：
-- 2. 简历基础信息表（对应上传的简历文件内容）
CREATE TABLE resumes (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '简历ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',

    -- 基本信息
    real_name VARCHAR(50) COMMENT '真实姓名',
    gender TINYINT COMMENT '性别：1-男，2-女，0-保密',
    birth_date DATE COMMENT '出生日期',
    phone VARCHAR(20) COMMENT '联系电话',
    email VARCHAR(100) COMMENT '联系邮箱',
    wechat VARCHAR(50) COMMENT '微信号',
    city VARCHAR(50) COMMENT '所在城市',

    -- 教育背景
    education_level VARCHAR(20) COMMENT '最高学历：本科/硕士/博士等',
    school_name VARCHAR(100) COMMENT '学校名称',
    major VARCHAR(100) COMMENT '专业',
    graduation_year YEAR COMMENT '毕业年份',
    gpa DECIMAL(3,2) COMMENT 'GPA',

    -- 简历文件
    resume_file_url VARCHAR(500) COMMENT '简历文件URL',
    resume_file_name VARCHAR(200) COMMENT '简历文件名',
    resume_format VARCHAR(10) COMMENT '文件格式：pdf/doc/docx',

    -- 个人简介
    self_introduction TEXT COMMENT '个人简介/自我评价',

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    KEY idx_user_id (user_id),
    CONSTRAINT fk_resume_user FOREIGN KEY (user_id) REFERENCES sys_user(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='简历基础信息表';

-- 3. 技能证书表
CREATE TABLE certificates (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '证书ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',

    cert_type VARCHAR(30) NOT NULL COMMENT '证书类型：english/computer/professional',
    cert_name VARCHAR(100) NOT NULL COMMENT '证书名称',
    cert_level VARCHAR(50) COMMENT '等级/分数：如CET-6/550分，雅思/7.5',
    issue_date DATE COMMENT '获取时间',
    expiry_date DATE COMMENT '过期时间（如有）',
    issuing_authority VARCHAR(100) COMMENT '发证机构',
    certificate_no VARCHAR(100) COMMENT '证书编号',
    attachment_url VARCHAR(500) COMMENT '证书附件URL',

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    KEY idx_resume_id (user_id),
    KEY idx_cert_type (cert_type),
    CONSTRAINT fk_cert_resume FOREIGN KEY (user_id) REFERENCES resumes(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='技能证书表';

-- 4. 校园经历表
CREATE TABLE campus_experiences (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '经历ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',

    -- 学生会/社团经历
    has_student_union TINYINT(1) DEFAULT 0 COMMENT '是否有学生会经历：0-否，1-是',
    student_union_details TEXT COMMENT '学生会经历详情：职位、时间段、工作内容',

    has_club TINYINT(1) DEFAULT 0 COMMENT '是否有社团经历：0-否，1-是',
    club_details TEXT COMMENT '社团经历详情',

    -- 奖学金
    has_scholarship TINYINT(1) DEFAULT 0 COMMENT '是否有奖学金：0-否，1-是',
    scholarship_details TEXT COMMENT '奖学金详情：名称、金额、时间',

    -- 其他荣誉
    has_honor TINYINT(1) DEFAULT 0 COMMENT '是否有其他荣誉：0-否，1-是',
    honor_details TEXT COMMENT '荣誉详情',

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    KEY idx_resume_id (user_id),
    CONSTRAINT fk_campus_resume FOREIGN KEY (user_id) REFERENCES resumes(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='校园经历表';

-- 5. 实习实践表
CREATE TABLE internships (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '实习ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',

    company_name VARCHAR(100) NOT NULL COMMENT '公司名称',
    position VARCHAR(50) COMMENT '实习岗位',
    industry VARCHAR(50) COMMENT '所属行业',
    start_date DATE COMMENT '开始时间',
    end_date DATE COMMENT '结束时间',
    is_current TINYINT(1) DEFAULT 0 COMMENT '是否进行中：0-否，1-是',
    is_related TINYINT(1) DEFAULT 0 COMMENT '是否是相关行业经历：0-否，1-是',
    work_content TEXT COMMENT '工作内容描述',
    achievements TEXT COMMENT '工作成果',

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    KEY idx_resume_id (user_id),
    KEY idx_industry (industry),
    CONSTRAINT fk_intern_resume FOREIGN KEY (user_id) REFERENCES resumes(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='实习实践表';

-- 6. 实习统计表（用于快速查询实习次数）
CREATE TABLE internship_stats (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',
    total_count INT DEFAULT 0 COMMENT '实习总次数',
    related_count INT DEFAULT 0 COMMENT '相关行业实习次数',
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    UNIQUE KEY uk_resume_id (user_id),
    CONSTRAINT fk_stats_resume FOREIGN KEY (user_id) REFERENCES resumes(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='实习统计表';

-- 7. 求职意向表
CREATE TABLE job_intentions (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',

    -- 目标行业（支持多选，用JSON）
    target_industries JSON COMMENT '目标行业：["互联网","教育","国企"]',
    industry_priority VARCHAR(20) COMMENT '首选行业',

    -- 目标岗位（支持多选）
    target_positions JSON COMMENT '目标岗位：["产品","运营","技术"]',
    position_priority VARCHAR(20) COMMENT '首选岗位',

    -- 期望城市（支持多选）
    target_cities JSON COMMENT '期望城市：["北京","上海","深圳"]',
    city_priority VARCHAR(50) COMMENT '首选城市',

    -- 期望薪资
    salary_min INT COMMENT '最低期望薪资（元/月）',
    salary_max INT COMMENT '最高期望薪资（元/月）',
    salary_type VARCHAR(20) DEFAULT 'monthly' COMMENT '薪资类型：monthly-月薪，annual-年薪',
    salary_negotiable TINYINT(1) DEFAULT 1 COMMENT '薪资是否可面议：0-否，1-是',

    -- 到岗时间
    availability VARCHAR(50) COMMENT '到岗时间：随时/一周内/一个月内/具体时间',
    available_date DATE COMMENT '可入职日期',

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    UNIQUE KEY uk_resume_id (user_id),
    CONSTRAINT fk_intention_resume FOREIGN KEY (user_id) REFERENCES resumes(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='求职意向表';

-- 8. 求职偏好表
CREATE TABLE job_preferences (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '偏好ID',
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',

    accept_intern_to_full TINYINT(1) DEFAULT 1 COMMENT '是否接受实习转正：0-否，1-是',
    accept_remote_city TINYINT(1) DEFAULT 0 COMMENT '是否考虑异地岗位：0-否，1-是',
    need_campus_referral TINYINT(1) DEFAULT 1 COMMENT '是否需要校招内推：0-否，1-是',

    -- 扩展偏好
    accept_overtime TINYINT(1) COMMENT '是否接受加班',
    accept_business_trip TINYINT(1) COMMENT '是否接受出差',
    company_size_preference VARCHAR(20) COMMENT '公司规模偏好：startup-初创，medium-中型，large-大厂',
    work_type_preference VARCHAR(20) COMMENT '工作类型偏好：fulltime-全职，intern-实习，both-均可',

    other_preferences TEXT COMMENT '其他偏好说明',

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    PRIMARY KEY (id),
    UNIQUE KEY uk_resume_id (user_id),
    CONSTRAINT fk_preference_resume FOREIGN KEY (user_id) REFERENCES resumes(user_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='求职偏好表';

-- ============================================
-- 索引优化
-- ============================================

-- 为常用查询字段添加索引
CREATE INDEX idx_resume_edu ON resumes(education_level, graduation_year);
CREATE INDEX idx_resume_school ON resumes(school_name);
CREATE INDEX idx_resume_city ON resumes(city);
CREATE INDEX idx_cert_name ON certificates(cert_name);
CREATE INDEX idx_intern_company ON internships(company_name);
CREATE INDEX idx_intern_dates ON internships(start_date, end_date);

-- ============================================
-- 触发器：自动更新实习统计
-- ============================================

DELIMITER //

CREATE TRIGGER trg_after_internship_insert
AFTER INSERT ON internships
FOR EACH ROW
BEGIN
    INSERT INTO internship_stats (user_id, total_count, related_count)
    VALUES (NEW.user_id, 1, IF(NEW.is_related = 1, 1, 0))
    ON DUPLICATE KEY UPDATE
        total_count = total_count + 1,
        related_count = related_count + IF(NEW.is_related = 1, 1, 0);
END//

CREATE TRIGGER trg_after_internship_delete
AFTER DELETE ON internships
FOR EACH ROW
BEGIN
    UPDATE internship_stats
    SET total_count = total_count - 1,
        related_count = related_count - IF(OLD.is_related = 1, 1, 0)
    WHERE user_id = OLD.user_id;
END//

DELIMITER ;

投诉类型表

-- 投诉类型枚举表（使用数字代码）
CREATE TABLE IF NOT EXISTS complaint_type (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',
    type_code TINYINT UNSIGNED PRIMARY KEY COMMENT '投诉类型代码：1-功能，2-BUG，3-建议，4-其他，5-隐私安全',
    type_name VARCHAR(50) NOT NULL COMMENT '投诉类型名称',
    sort_order INT DEFAULT 0 COMMENT '排序',
    is_active TINYINT(1) DEFAULT 1 COMMENT '是否启用：1启用，0禁用'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='投诉类型字典表';

投诉及反馈主表

CREATE TABLE IF NOT EXISTS user_feedback (
    -- 主键
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',

    -- 关联用户
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID，关联sys_user表的user_id',

    -- 投诉类型（数字代码）
    complaint_type TINYINT UNSIGNED NOT NULL COMMENT '投诉类型：1-功能，2-BUG，3-建议，4-其他，5-隐私安全',

    -- 投诉描述
    description TEXT NOT NULL COMMENT '用户投诉描述内容',

    -- 图片URL（三个字段）
    image_url_1 VARCHAR(500) DEFAULT NULL COMMENT '用户上传图片1的URL',
    image_url_2 VARCHAR(500) DEFAULT NULL COMMENT '用户上传图片2的URL',
    image_url_3 VARCHAR(500) DEFAULT NULL COMMENT '用户上传图片3的URL',

    -- 反馈内容
    feedback_content TEXT DEFAULT NULL COMMENT '管理员反馈回复内容',

    -- 解决状态
    is_resolved TINYINT(1) DEFAULT 0 COMMENT '是否已解决：0-未解决，1-已解决',

    -- 时间戳字段
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    resolve_time DATETIME DEFAULT NULL COMMENT '解决时间',

    -- 其他辅助字段
    resolved_by BIGINT UNSIGNED DEFAULT NULL COMMENT '解决人ID（管理员）',
    priority TINYINT(1) DEFAULT 1 COMMENT '优先级：1-低，2-中，3-高',

    -- 主键约束
    PRIMARY KEY (id),

    -- 外键约束（假设sys_user表存在）
    CONSTRAINT fk_feedback_user_id
        FOREIGN KEY (user_id)
        REFERENCES sys_user(user_id)
        ON DELETE RESTRICT
        ON UPDATE CASCADE,

    -- 外键约束（投诉类型）
    CONSTRAINT fk_feedback_type
        FOREIGN KEY (complaint_type)
        REFERENCES complaint_type(type_code)
        ON DELETE RESTRICT
        ON UPDATE CASCADE,

    -- 索引优化
    INDEX idx_user_id (user_id) COMMENT '用户ID索引，方便查询某用户的所有反馈',
    INDEX idx_complaint_type (complaint_type) COMMENT '投诉类型索引',
    INDEX idx_is_resolved (is_resolved) COMMENT '解决状态索引',
    INDEX idx_create_time (create_time) COMMENT '创建时间索引',
    INDEX idx_priority (priority, is_resolved) COMMENT '优先级和状态组合索引'

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户投诉及反馈表';

用户岗位收藏表
CREATE TABLE user_favorite_jobs (
    -- 主键
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',
    
    -- 关联字段
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',
    boss_job_id VARCHAR(64)  NOT NULL COMMENT '岗位ID',
    
    -- 状态字段
    is_canceled TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否取消收藏：0-收藏中，1-已取消',
    
    -- 补充字段
    job_snapshot JSON COMMENT '岗位快照（存储收藏时的岗位标题、薪资、公司名等）',
    remarks VARCHAR(255) DEFAULT NULL COMMENT '用户备注',
    
    -- 时间字段（自动维护）
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（首次收藏时间）',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间（状态变更时间）',
    
    -- 索引优化
    PRIMARY KEY (id),
    UNIQUE KEY uk_user_job (user_id, boss_job_id),
    KEY idx_user_id (user_id),
    KEY idx_boss_job_id (boss_job_id),
    KEY idx_is_canceled (is_canceled),
    KEY idx_created_at (created_at)
    
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户收藏岗位表';

用户岗位投递表
CREATE TABLE user_deliver_jobs (
    -- 主键
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',

    -- 关联字段
    user_id BIGINT UNSIGNED NOT NULL COMMENT '用户ID',
    boss_job_id VARCHAR(64)  NOT NULL COMMENT '岗位ID',

    -- 状态字段
    is_canceled TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否取消收藏：0-已投递，1-已结束',

    -- 补充字段
    job_snapshot JSON COMMENT '岗位快照（存储收藏时的岗位标题、薪资、公司名等）',
    remarks VARCHAR(255) DEFAULT NULL COMMENT '用户备注',

    -- 时间字段（自动维护）
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间（首次收藏时间）',
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间（状态变更时间）',

    -- 索引优化
    PRIMARY KEY (id),
    UNIQUE KEY uk_user_job (user_id, boss_job_id),
    KEY idx_user_id (user_id),
    KEY idx_boss_job_id (boss_job_id),
    KEY idx_is_canceled (is_canceled),
    KEY idx_created_at (created_at)

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户收藏岗位表';

